
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

package cfg.test

import luban.*
import com.google.gson.JsonElement

/**
 * Multi-Key List Table
 * Key field: id1 (Int)
 * Key field: id2 (Long)
 * Key field: id3 (String)
 */
class TbMultiUnionIndexList(private val _buf: JsonElement) {
    private val _dataList: MutableList<cfg.test.MultiUnionIndexList>
    private val _dataMap:MutableMap<Int,MutableMap<Long,MutableMap<String,cfg.test.MultiUnionIndexList>>>    
    init {
        _dataList = mutableListOf()
        _dataMap = mutableMapOf()
        
        for (_e_ in _buf.asJsonArray) {
            val _v: cfg.test.MultiUnionIndexList
            _v = cfg.test.MultiUnionIndexList.deserialize(_e_.asJsonObject)
            _dataList.add(_v)
            
            // 构建嵌套Map
            var level1Map = _dataMap[_v.id1]
            if (level1Map == null) {
                level1Map = mutableMapOf()
                _dataMap[_v.id1] = level1Map
            }
            var level2Map = level1Map[_v.id2]
            if (level2Map == null) {
                level2Map = mutableMapOf()
                level1Map[_v.id2] = level2Map
            }
            level2Map[_v.id3] = _v
        }
    }

    val dataList: List<cfg.test.MultiUnionIndexList> get() = _dataList
    val dataMap:Map<Int,Map<Long,Map<String,cfg.test.MultiUnionIndexList>>>get() = _dataMap

    operator fun get(id1: Int,id2: Long,id3: String): cfg.test.MultiUnionIndexList? {
        val level1Map = _dataMap[id1]
        val level2Map = level1Map?.get(id2)
        return level2Map?.get(id3)
    }

}

