
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

package cfg.test

import luban.*

/**
 * Map Table
 * Key field: id (Int)
 */
class TbItem2(private val _buf: ByteBuf) {
    private val _dataMap: MutableMap<Int, cfg.test.ItemBase>
    private val _dataList: MutableList<cfg.test.ItemBase>
    
    init {
        _dataMap = mutableMapOf()
        _dataList = mutableListOf()
        
        val n = _buf.readSize()
        repeat(n) {
            val _v: cfg.test.ItemBase
            _v = cfg.test.ItemBase.deserialize(_buf)
            _dataList.add(_v)
            _dataMap[_v.id] = _v
        }
    }

    val dataMap: Map<Int, cfg.test.ItemBase> get() = _dataMap
    val dataList: List<cfg.test.ItemBase> get() = _dataList

    @Suppress("UNCHECKED_CAST")
    fun <T : cfg.test.ItemBase> getAs(key: Int): T? = _dataMap[key] as T?
    operator fun get(key: Int): cfg.test.ItemBase? = _dataMap[key]

}

